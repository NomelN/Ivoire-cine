{% extends "base.html" %}

{% block title %}{{ genre_name }} - Ivoire Ciné{% endblock %}

{% block content %}
<div style="text-align: center; margin: 2rem 0;">
    <h1>Films - {{ genre_name }}</h1>
    {% if movies %}
        <p>Page {{ page }} sur {{ total_pages }}</p>
    {% endif %}
</div>

<div class="movies">
    {% for movie in movies %}
        {% include 'components/movie_card.html' %}
    {% else %}
        <div class="empty-state">
            <h2>Aucun film trouvé</h2>
            <p>Aucun film n'est disponible pour le genre "{{ genre_name }}".</p>
        </div>
    {% endfor %}
</div>

{% if movies and total_pages > 1 %}
    {% set endpoint = 'movies.movies_by_genre' %}
    {% set param = 'page' %}
    {% set extra_params = {'genre_id': genre_id} %}
    {% include 'components/pagination.html' with context %}
{% endif %}
{% endblock %}