{% extends "base.html" %}

{% block title %}{{ genre_name }} - Ivoire Ciné{% endblock %}

{% block content %}
<div class="genre-header">
    <h1>Films - {{ genre_name }}</h1>
    {% if movies %}
        <p class="page-info">Page {{ page }} sur {{ total_pages }}</p>
    {% endif %}
</div>

<div class="movies">
    {% for movie in movies %}
        {% include 'components/movie_card.html' %}
    {% else %}
        <div class="empty-state">
            <h2>Aucun film trouvé</h2>
            <p>Aucun film n'est disponible pour le genre "{{ genre_name }}".</p>
        </div>
    {% endfor %}
</div>

{% if movies and total_pages > 1 %}
    {% set endpoint = 'movies.movies_by_genre' %}
    {% set param = 'page' %}
    {% set extra_params = {'genre_id': genre_id} %}
    {% include 'components/pagination.html' with context %}
{% endif %}
{% endblock %}

{% block extra_css %}
<style>
    .genre-header {
        text-align: center;
        margin: 2rem auto;
        max-width: 1200px;
        padding: 0 2rem;
    }

    .genre-header h1 {
        color: var(--text-color);
        margin-bottom: 0.5rem;
    }

    .page-info {
        color: #666;
        font-size: 0.9rem;
    }

    [data-theme="dark"] .page-info {
        color: #aaa;
    }

    .empty-state {
        text-align: center;
        padding: 3rem;
        color: var(--text-color);
    }

    .empty-state h2 {
        margin-bottom: 1rem;
        color: var(--text-color);
    }
</style>
{% endblock %}